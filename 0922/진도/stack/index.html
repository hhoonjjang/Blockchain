<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Stack</title>
  </head>
  <body>
    <script>
      class Node {
        constructor(data) {
          this.data = data;
        }
      }

      class StackNode extends Node {
        // 기본 노드를 상속받아 스택노드를 생성한다
        constructor(data, head) {
          // data와 head를 받아서 진행한다.
          // head는 다음 데이터이다.
          super(data);
          //   부모노드(기본노드)의 생성자를 호출한다.실행한다.
          this.head = head;
          //   head를 생성한다.
        }
        push(data) {
          // 넣다,data매개변수를
          if (!this.data) this.data = data;
          // 만약에 data가 없으면 현재 노드의 data에 전달받은매개변수 data를 정의한다.
          // pop하다보면 전부없앨수있기때문에 현재 노드의data또한 삭제될수 있기때문이다.
          else if (this.head) {
            // head가 있다는 얘기는 마지막 노드가 아니다 즉 마지막 순서가 아니다.
            this.head.push(data);
            // 마지막 순서가 아니기 때문에 다음 노드에 데이터를 넣도록 한다.
          } else {
            // 다음 데이터가 없음이 확인되었고, 현재 데이터도 있을 때 head에 새 노드를 추가한다.
            this.head = new StackNode(data);
          }
        }
        pop() {
          if (this?.head?.head) return this.head.pop();
          else if (!this?.head) {
            const temp = this.data;
            delete this.head;
            this.head = undefined;
            return temp;
          } else {
            const temp = this.head.data;
            delete this.head;
            this.head = undefined;
            return temp;
          }
        }
      }

      const stack1 = new StackNode();

      console.log(stack1);
      stack1.push(1);
      console.log(stack1);
      class Stack {
        constructor() {
          this.arr = [];
        }
        push(data) {
          this.arr.push(data);
        }
        pop() {
          return this.arr.pop();
        }
        log() {
          console.log(this.arr);
        }
      }
      const stack = new Stack();
      stack.push(1);
      stack.push(2);
      stack.push(3);
      stack.pop();
      stack.log(stack);

      class Person {
        constructor(name, age, city) {
          this.name = name;
          this.age = age;
          this.city = city;
        }
      }
      const Jaehoon = new Person("정재훈", 30, "서울");
      console.log(Jaehoon);
    </script>
  </body>
</html>
